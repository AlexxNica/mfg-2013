$def with (posts,post,form,formparam,formparamG,master,mastglobal,webglyph,glyphparam,groupparam,cfont,postspa)
<title>
$if cfont.idwork == '0' :
       A: $cfont.fontna
$if cfont.idwork == '1' : 
       B: $cfont.fontnb
Project $cfont.idmaster
</title>
<link rel="stylesheet" type="text/css" href="/static/mfg.css"/>
<style>
.first{
	color: grey;
}

.second{
	color: rgba(120, 120, 120, 0.2);
}

p, h2, table, th, td, .menu, input, select, textarea{
	font: normal 15px/19px Menlo,'Inconsolata',mono;
	z-index: 5;
	margin: 0 0 8 0;
}

h2{
	color: red;
}

#center{
	bottom: 0;
	height: 0px;
	left: -350;
	margin: auto;
	position: absolute;
	top: 630px;
	right: 0;
	width: 0px;
	-webkit-transform: translate(0%,0%) scale(100%,100%);
}

#menuleft{
	width: 300px;
}

#fonttitle{
	text-align: center;
	position:fixed;
	font-size: 18px;
	top: 10px;
	left: 42%;
	margin: auto;
	color: grey;
}


.menuleftgreen{
	z-index: 5;
	background-color: green;
	width: 300px;
	text-align: left;
	color: yellow;
	padding: 5px;
}

#menuleftorange{
	z-index: 5;
	background-color: darkorange;
	width: 300px;
	text-align: left;
	color: yellow;
	padding: 5px;
}

a:visited{
	color: inherit;
	text-decoration: none;
}

a:link{
	color: inherit;
	text-decoration: none;
}

table, tr, #menuleft{
	background-color: black;
	text-align: left;
	color: white;
	padding: 4px;
}

.paramset{
	position: absolute;
	float: right;
	top: 95px;
	right:20px;
	margin: 0 0 0 0;
}

.paramname{
	color: grey;
}

.listvalue{
	color: khaki;
}
.ptnumber {
	font: normal 15px/19px Menlo,'Inconsolata',mono;
	z-index: 5;
	display: table-cell;
	color: grey;
	padding:0 2 0 3;
}
.ptname {
	color:rgb(150,200,150);
	font: normal 15px/19px Menlo,'Inconsolata',mono;
	z-index: 5;
	display: table-cell;
	padding:0 5 0 1;
}
.value{
	float: right;
	margin: 0 0 0 10;
}
</style>

<div class="paramset"><p>
$for mast in mastglobal:
	<span class="paramname">Metapolation</span> <span class="value">$mast.metapolation</span><br>
	<span class="paramname">fontsize</span> <span class="value">$mast.fontsize</span><br>
	<span class="paramname">mean</span> <span class="value">$mast.mean</span><br>
	<span class="paramname">cap</span> <span class="value">$mast.cap</span><br>
	<span class="paramname">asc</span> <span class="value">$mast.ascl</span><br>
	<span class="paramname">desc</span> <span class="value">$mast.des</span><br>
	<span class="paramname">box</span> <span class="value">$mast.box</span><br>
	</div><div class="paramset">
</p></div>

$for mast in master:
   $mast.FontName

<!-- 
<p id="viewmenu">  
$for mast in master:
   $mast.FontName  
$for mast in mastglobal:
   Metapolation $mast.metapolation <br>
   fontsize $mast.fontsize <br>
   mean $mast.mean <br>
   cap $mast.cap <br>
   asc $mast.ascl <br>
   desc $mast.des <br>
   box $mast.box <br>
   <br>
</p>
 -->

<p id="fonttitle">  
$if cfont.idwork == '0' :
       <span style="color:red;font-weight:bold;">A</span>&nbsp;&nbsp;$cfont.fontna&nbsp;&nbsp;'$webglyph'
$if cfont.idwork == '1' : 
       <span style="color:red;font-weight:bold;">B</span>&nbsp;&nbsp;$cfont.fontnb&nbsp;&nbsp;'$webglyph'
</p> 

<p style="margin:10px 0;">
<span class="button"><a href="/metap/0">Edit Font A</a></span>&nbsp
<span class="button"><a href="/metap/1">Edit Font B</a></span>
</p> 

<form action="" method="post">
$:form.render() 
<p>
$if form.d.PointName > "0" : 
    $:formparam.render() 
</p>
<!-- add new parameters here: -->

<p class="menuleftgreen" >
    $if glyphparam.startp != None :
       startp $glyphparam.startp <br>
    $if glyphparam.doubledash != None :
       doubledash $glyphparam.doubledash  <br>
    $if glyphparam.tripledash != None :
       tripledash $glyphparam.tripledash  <br>
    $if glyphparam.superleft != None :
       superleft $glyphparam.superleft  <br>
    $if glyphparam.superright != None :
       superright $glyphparam.superright  <br>
    $if glyphparam.leftp != None :
       leftp $glyphparam.leftp <br>
    $if glyphparam.rightp != None :
       rightp $glyphparam.rightp <br>
    $if glyphparam.downp != None :
       downp $glyphparam.downp <br>
    $if glyphparam.upp != None :
       upp $glyphparam.upp <br>
    $if glyphparam.dir != None :
       dir $glyphparam.dir <br>
    $if glyphparam.leftp2 != None :
       leftp2 $glyphparam.leftp2 <br>
    $if glyphparam.rightp2 != None :
       rightp2 $glyphparam.rightp2 <br>
    $if glyphparam.downp2 != None :
       downp2 $glyphparam.downp2 <br>
    $if glyphparam.upp2 != None :
       upp2 $glyphparam.upp2 <br>
    $if glyphparam.dir2 != None :
       dir2 $glyphparam.dir2 <br>
    $if glyphparam.tension != None :
       tension $glyphparam.tension <br>
    $if glyphparam.tensionand != None :
       tensionand $glyphparam.tensionand <br>
    $if glyphparam.cycle != None :
       cycle $glyphparam.cycle <br>
    $if glyphparam.penshifted != None :
       penshifted $glyphparam.penshifted <br>
    $if glyphparam.pointshifted != None :
       pointshifted $glyphparam.pointshifted <br>
    $if glyphparam.angle != None :
       angle $glyphparam.angle <br>
    $if glyphparam.penwidth != None :
       penwidth $glyphparam.penwidth <br>
    $if glyphparam.overx != None :
       overx $glyphparam.overx <br>
    $if glyphparam.overbase != None :
       overbase $glyphparam.overbase <br>
    $if glyphparam.overcap != None :
       overcap $glyphparam.overcap <br>
    $if glyphparam.overasc != None :
       overasc $glyphparam.overasc <br>
    $if glyphparam.overdesc != None :
       overdesc $glyphparam.overdesc <br>
    $if glyphparam.stemcutter != None :
       stemcutter $glyphparam.stemcutter <br>
    $if glyphparam.stemshift != None :
       stemshift $glyphparam.stemshift <br>
    $if glyphparam.inktrap_l != None :
       inktrap_l $glyphparam.inktrap_l <br>
    $if glyphparam.inktrap_r != None :
       inktrap_r $glyphparam.inktrap_r <br>
</p>

<p id="menuleft" >
	<form action="" method="post">

$if form.d.groupn > "0" : 
    $:formparamG.render() 
</p>

<p id="menuleftorange" > 
    $if groupparam != None :
     $if groupparam.startp != None :
       startp $groupparam.startp  <br>
     $if groupparam.doubledash != None :
       doubledash $groupparam.doubledash <br>
     $if groupparam.tripledash != None :
       tripledash $groupparam.tripledash  <br>
     $if groupparam.superleft != None :
       superleft $groupparam.superleft  <br>
     $if groupparam.superright != None :
       superright $groupparam.superright  <br>
     $if groupparam.leftp != None :
       leftp $groupparam.leftp <br>
     $if groupparam.rightp != None :
       rightp $groupparam.rightp <br>
     $if groupparam.downp != None :
       downp $groupparam.downp <br>
     $if groupparam.upp != None :
       upp $groupparam.upp <br>
     $if groupparam.dir != None :
       dir $groupparam.dir <br>
     $if groupparam.leftp2 != None :
       leftp2 $groupparam.leftp2 <br>
     $if groupparam.rightp2 != None :
       rightp2 $groupparam.rightp2 <br>
     $if groupparam.downp2 != None :
       downp2 $groupparam.downp2 <br>
     $if groupparam.upp2 != None :
       upp2 $groupparam.upp2 <br>
     $if groupparam.dir2 != None :
       dir2 $groupparam.dir2 <br>
     $if groupparam.tension != None :
       tension $groupparam.tension <br>
     $if groupparam.tensionand != None :
       tensionand $groupparam.tensionand <br>
     $if groupparam.cycle != None :
       cycle $groupparam.cycle <br>
     $if groupparam.penshifted != None :
       penshifted $groupparam.penshifted <br>
     $if groupparam.pointshifted != None :
       pointshifted $groupparam.pointshifted <br>
     $if groupparam.angle != None :
       angle $groupparam.angle <br>
     $if groupparam.penwidth != None :
       penwidth $groupparam.penwidth <br>
     $if groupparam.overx != None :
       overx $groupparam.overx <br>
     $if groupparam.overbase != None :
       overbase $groupparam.overbase <br>
     $if groupparam.overcap != None :
       overcap $groupparam.overcap <br>
     $if groupparam.stemcutter != None :
       stemcutter $groupparam.stemcutter <br>
     $if groupparam.stemshift != None :
       stemshift $groupparam.stemshift <br>
     $if groupparam.inktrap_l != None :
       inktrap_l $groupparam.inktrap_l <br>
     $if groupparam.inktrap_r != None :
       inktrap_r $groupparam.inktrap_r <br>
</p>


<p id="menuleft"> points - parameters </p>
<p id="menuleft"> 
<!-- add new parameters here: -->
 
$for ppp in postspa:
   $if ppp.PointName != '' :
     <span style="display:table-row;">
     <span class="ptname">$ppp.PointName</span>
     <span style="display: table-cell;">
     $if ppp.startp != None :
         startp&nbsp;<span class="listvalue">$ppp.startp</span>
     $if ppp.doubledash != None :
         doubledash&nbsp;<span class="listvalue">$ppp.doubledash</span>
     $if ppp.tripledash != None :
         tripledash&nbsp;<span class="listvalue">$ppp.tripledash</span>
     $if ppp.superleft != None :
         superleft&nbsp;<span class="listvalue">$ppp.superleft</span>
     $if ppp.superright != None :
         superright&nbsp;<span class="listvalue">$ppp.superright</span>
     $if ppp.leftp != None :
       leftp&nbsp;<span class="listvalue">$ppp.leftp</span>
     $if ppp.rightp != None :
       rightp&nbsp;<span class="listvalue">$ppp.rightp</span>
     $if ppp.downp != None :
       downp&nbsp;<span class="listvalue">$ppp.downp</span>
     $if ppp.upp != None :
       upp&nbsp;<span class="listvalue">$ppp.upp</span>
     $if ppp.dir != None :
       dir&nbsp;<span class="listvalue">$ppp.dir</span>
     $if ppp.leftp2 != None :
       leftp2&nbsp;<span class="listvalue">$ppp.leftp2</span>
     $if ppp.rightp2 != None :
       rightp2&nbsp;<span class="listvalue">$ppp.rightp2</span>
     $if ppp.downp2 != None :
       downp2&nbsp;<span class="listvalue">$ppp.downp2</span>
     $if ppp.upp2 != None :
       upp2&nbsp;<span class="listvalue">$ppp.upp2</span>
     $if ppp.dir2 != None :
       dir2&nbsp;<span class="listvalue">$ppp.dir2</span>
     $if ppp.tension != None :
       tension&nbsp;<span class="listvalue">$ppp.tension</span>
     $if ppp.tensionand != None :
       tensionand&nbsp;<span class="listvalue">$ppp.tensionand</span>
     $if ppp.cycle != None :
       cycle&nbsp;<span class="listvalue">$ppp.cycle</span>
     $if ppp.penshifted != None :
       penshifted&nbsp;<span class="listvalue">$ppp.penshifted</span>
     $if ppp.pointshifted != None :
       pointshifted&nbsp;<span class="listvalue">$ppp.pointshifted</span>
     $if ppp.angle != None :
       angle&nbsp;<span class="listvalue">$ppp.angle</span>
     $if ppp.penwidth != None :
       penwidth&nbsp;<span class="listvalue">$ppp.penwidth</span>
     $if ppp.overx != None :
       overx&nbsp;<span class="listvalue">$ppp.overx</span>
     $if ppp.overbase != None :
       overbase&nbsp;<span class="listvalue">$ppp.overbase</span>
     $if ppp.overcap != None :
       overcap&nbsp;<span class="listvalue">$ppp.overcap</span>
     $if ppp.overasc != None :
       overasc&nbsp;<span class="listvalue">$ppp.overasc</span>
     $if ppp.overdesc != None :
       overdesc&nbsp;<span class="listvalue">$ppp.overdesc</span>
     $if ppp.stemcutter != None :
       stemcutter&nbsp;<span class="listvalue">$ppp.stemcutter</span>
     $if ppp.stemshift != None :
       stemshift&nbsp;<span class="listvalue">$ppp.stemshift</span>
     $if ppp.inktrap_l != None :
       inktrap_l&nbsp;<span class="listvalue">$ppp.inktrap_l</span>
     $if ppp.inktrap_r != None :
       inktrap_r&nbsp;<span class="listvalue">$ppp.inktrap_r</span>
   <br>
   </span>
   <span class="ptnumber">$ppp.id</span>
   </span>
</p>

<p style="color:black"> &#9678; z points </p>
<p style="color:blue"> &#9678; undefined points </p>
<p style="color:CCFFFF"> &#9678; control points </p>




<div id="center">
	<div>
		<left>&#124;&#124;&#124;&#124;&#124;&#124;&#124;</left>
	</div>
	
	<div>
		<middle>
			<span class="first">$webglyph</span><span class="second">&#124;&#124;&#124;&#124;&#124;&#124;&#124;</span> 
		<middle>
	</div>

$for posti in posts:
	<div id="$posti.id" style="$posti.position">
		<p>
			<a href="/view/$posti.id" style="text-decoration:none">&#9678;$posti.PointNr</a>
		</p>
	</div>
</div>